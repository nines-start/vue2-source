{"version":3,"file":"vue.js","sources":["../src/shared/util.js","../src/util/next-tick.js","../src/shared/constants.js","../src/util/options.js","../src/global-api/mixin.js","../src/global-api/index.js","../src/compiler/parse/text-parse.js","../src/compiler/codeGen/index.js","../src/compiler/parse/html-parse.js","../src/compiler/index.js","../src/observer/dep.js","../src/observer/scheduler.js","../src/observer/traverse.js","../src/observer/watcher.js","../src/vdom/patch.js","../src/instance/lifecycle.js","../src/observer/array.js","../src/observer/index.js","../src/instance/state.js","../src/instance/init.js","../src/vdom/index.js","../src/index.js"],"sourcesContent":["export function isFunction(value) {\r\n    return typeof value === \"function\";\r\n}\r\n\r\nconst _toString = Object.prototype.toString;\r\nexport function isPlainObject(obj) {\r\n    return _toString.call(obj) === \"[object Object]\";\r\n}\r\n\r\nexport function isObject(obj) {\r\n    return obj !== null && typeof obj === \"object\";\r\n}\r\n\r\nexport function hasOwn(obj, key) {\r\n    return hasOwnProperty.call(obj, key);\r\n}\r\n\r\nexport const isArray = Array.isArray;\r\n\r\nexport function isNative(Ctor) {\r\n    return typeof Ctor === \"function\" && /native code/.test(Ctor.toString());\r\n}\r\n\r\n\r\nexport function parsePath(path) {\r\n    // 'obj.a.b.c'\r\n    const segments = path.split(\".\");\r\n    return function (obj) {\r\n        for (let i = 0; i < segments.length; i++) {\r\n            if (!obj) return;\r\n            // 取值之后再把值赋回去\r\n            obj = obj[segments[i]];\r\n        }\r\n        return obj;\r\n    };\r\n}\r\n","import { isNative } from \"../shared/util\";\r\n\r\nlet callbacks = [];\r\n\r\nlet pending = false;\r\n\r\nlet timerFunc;\r\n\r\nif (typeof Promise !== \"undefined\" && isNative(Promise)) {\r\n    const p = Promise.resolve();\r\n    timerFunc = () => {\r\n        p.then(flushCallbacks);\r\n    };\r\n} else if (\r\n    typeof MutationObserver !== \"undefined\" &&\r\n    (isNative(MutationObserver) ||\r\n        MutationObserver.toString() === \"[object MutationObserverConstructor]\")\r\n) {\r\n    let counter = 1;\r\n    const observer = new MutationObserver(flushCallbacks);\r\n    const textNode = document.createTextNode(String(counter));\r\n    // 监控文本的数据，并监控文本节点中字符的变化\r\n    observer.observe(textNode, {\r\n        characterData: true,\r\n    });\r\n    timerFunc = () => {\r\n        counter = (counter + 1) % 2;\r\n        textNode.data = String(counter);\r\n    };\r\n} else if (typeof setImmediate !== \"undefined\" && isNative(setImmediate)) {\r\n    timerFunc = () => {\r\n        setImmediate(flushCallbacks);\r\n    };\r\n} else {\r\n    timerFunc = () => {\r\n        setTimeout(flushCallbacks, 0);\r\n    };\r\n}\r\n\r\nfunction flushCallbacks() {\r\n    pending = false;\r\n    const copies = callbacks.slice(0);\r\n    callbacks.length = 0; // 清空callback\r\n    for (let i = 0; i < copies.length; i++) {\r\n        copies[i]();\r\n    }\r\n}\r\n\r\nexport function nextTick(cb, ctx) {\r\n    callbacks.push(cb);\r\n    if (!pending) {\r\n        pending = true;\r\n        timerFunc();\r\n    }\r\n}\r\n","export const LIFECYCLE_HOOKS = [\r\n    \"beforeCreate\",\r\n    \"created\",\r\n    \"beforeMount\",\r\n    \"mounted\",\r\n    \"beforeUpdate\",\r\n    \"updated\",\r\n    \"beforeDestroy\",\r\n    \"destroyed\",\r\n    \"activated\",\r\n    \"deactivated\",\r\n    \"errorCaptured\",\r\n    \"serverPrefetch\",\r\n    \"renderTracked\",\r\n    \"renderTriggered\",\r\n];\r\n","import { hasOwn, isArray } from \"../shared/util\";\r\n\r\nimport { LIFECYCLE_HOOKS } from \"../shared/constants\";\r\n\r\n\r\n// 定义一个策略对象\r\nconst strats = Object.create(null);\r\n\r\nLIFECYCLE_HOOKS.forEach((hook) => {\r\n    strats[hook] = mergeLifecycleHook;\r\n});\r\n\r\nconst defaultStrat = function (parentVal, childVal) {\r\n    return childVal === undefined ? parentVal : childVal;\r\n};\r\n// 生命周期的合并\r\nexport function mergeLifecycleHook(parentVal, childVal) {\r\n    const res = childVal\r\n        ? parentVal\r\n            ? parentVal.concat(childVal)\r\n            : isArray(childVal)\r\n            ? childVal\r\n            : [childVal]\r\n        : parentVal;\r\n    return res ? dedupeHooks(res) : res;\r\n}\r\n\r\nfunction dedupeHooks(hooks) {\r\n    const res = [];\r\n    for (let i = 0; i < hooks.length; i++) {\r\n        if (res.indexOf(hooks[i]) === -1) {\r\n            res.push(hooks[i]);\r\n        }\r\n    }\r\n    return res;\r\n}\r\n\r\nexport function mergeOptions(parent, child) {\r\n    const options = {}; \r\n    \r\n    for (const key in parent) {\r\n        mergeField(key);\r\n    }\r\n\r\n    for (const key in child) {\r\n        if (!hasOwn(parent, key)) {\r\n            mergeField(key);\r\n        }\r\n    }\r\n\r\n    // 合并字段\r\n    function mergeField(key) {\r\n        const strat = strats[key] || defaultStrat;\r\n        options[key] = strat(parent[key], child[key]);\r\n    }       \r\n    return options;\r\n}","import { mergeOptions } from \"../util/options\";\r\nexport function initMixin(Vue) {\r\n    Vue.mixin = function (mixin) {\r\n        this.options = mergeOptions(this.options, mixin);\r\n        return this;\r\n    };\r\n}\r\n","import { nextTick } from \"../util/next-tick\";\r\nimport { initMixin } from \"./mixin\";\r\n\r\n// 全局公共方法\r\nexport function initGlobalAPI(Vue) {\r\n    Vue.options = Object.create(null);\r\n    initMixin(Vue);\r\n    Vue.nextTick = nextTick;\r\n}\r\n","// 匹配{{}}\r\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\r\n\r\n// 匹配文本标签\r\nexport function parseText(text) {\r\n    if (!defaultTagRE.test(text)) {\r\n        return `_v(${JSON.stringify(text)})`;\r\n    }\r\n\r\n    let tokens = [];\r\n\r\n    let lastIndex = (defaultTagRE.lastIndex = 0);\r\n    // 匹配到的结果\r\n    let match;\r\n    // 保存匹配到的索引\r\n    let index;\r\n\r\n    while ((match = defaultTagRE.exec(text))) {\r\n\r\n        index = match.index;\r\n        if (index > lastIndex) {\r\n            tokens.push(JSON.stringify(text.slice(lastIndex, index)));\r\n        }\r\n        tokens.push(`_s(${match[1].trim()})`);\r\n        // 当前索引加上匹配字符串的长度\r\n        lastIndex = index + match[0].length;\r\n    }\r\n    if (lastIndex < text.length) {\r\n        tokens.push(JSON.stringify(text.slice(lastIndex)));\r\n    }\r\n    return tokens.join(\"+\");\r\n}","import { parseText } from \"../parse/text-parse\";\r\n\r\n// 处理属性\r\nfunction genProps(ast) {\r\n    const { attrs } = ast;\r\n\r\n    let str = \"\";\r\n    // 遍历attrs\r\n    for (let i = 0; i < attrs.length; i++) {\r\n        const at = attrs[i];\r\n        // style属性需要单独处理\r\n        // 样式  style=\"background-color: red\" 需要把冒号转成对象\r\n        if (at.name === \"style\") {\r\n            let obj = {};\r\n            // 先用分号分隔，再用冒号分隔\r\n            at.value.split(\";\").forEach((item) => {\r\n                let [key, value] = item.split(\":\");\r\n                obj[key] = value;\r\n            });\r\n            at.value = obj;\r\n        }\r\n        // 其他情况可以直接拼接\r\n        // 多个属性之间需要使用逗号\r\n        str += `${at.name}:${JSON.stringify(at.value)},`;\r\n    }\r\n    // 删除最后一个，\r\n    return `{${str.slice(0, -1)}}`;\r\n}\r\n\r\nfunction genChildren(ast) {\r\n    // 判断是否有子元素\r\n    const { children } = ast;\r\n    // 需要把子元素拼接在一起，用逗号拼接起来\r\n    if (children) {\r\n        return children.map((child) => genNode(child)).join(\",\");\r\n    }\r\n}\r\nfunction genNode(node) {\r\n    // 节点可能有两种类型，一种是文本，一种是标签\r\n    if (node.type === 1) {\r\n        return genElement(node);\r\n    } else {\r\n        let { text } = node;\r\n        return `_v(${parseText(text)})`;\r\n    }\r\n}\r\n\r\nfunction genElement(ast) {\r\n    let props = genProps(ast);\r\n    let children = genChildren(ast);\r\n\r\n    let code = `_c('${ast.tag}',\r\n    ${ast.attrs.length > 0 ? `${props}` : \"null\"}${\r\n        children ? `,${children}` : \"\"\r\n    })`;\r\n    return code;\r\n}\r\n\r\nexport function generate(ast) {\r\n    const code = ast ? genElement(ast) : '_c(\"div\")';\r\n    // 使用with的作用，去this上取值\r\n    return {\r\n        render: `with(this){return ${code}}`,\r\n    };\r\n}\r\n","\r\nconst attribute =\r\n    /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/;\r\n\r\nconst dynamicArgAttribute =\r\n    /^\\s*((?:v-[\\w-]+:|@|:|#)\\[[^=]+?\\][^\\s\"'<>\\/=]*)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/;\r\n\r\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`;\r\n\r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`;\r\n\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`);\r\n\r\nconst startTagClose = /^\\s*(\\/?)>/;\r\n\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`);\r\n\r\nexport function parseHTML(html) {\r\n    // 树根\r\n    let root;\r\n\r\n    let currentParent;\r\n\r\n    // 栈结构\r\n    let stack = [];\r\n\r\n    const ELEMENT_TYPE = 1;\r\n    const TEXT_TYPE = 3;\r\n\r\n    // 只要html不为空，就一直循环解析\r\n    while (html) {\r\n        let textEnd = html.indexOf(\"<\");\r\n        // 等于0 ，是标签\r\n        if (textEnd === 0) {\r\n            const startTagMatch = parseStartTag();\r\n            // 开始标签\r\n            if (startTagMatch) {\r\n                handleStartTag(startTagMatch);\r\n                continue;\r\n            }\r\n            // 结束标签\r\n            const endTagMatch = html.match(endTag);\r\n            if (endTagMatch) {\r\n                handleEndTag(endTagMatch[1]);\r\n                advance(endTagMatch[0].length);\r\n            }\r\n        }\r\n\r\n        // 是文本\r\n        let text;\r\n        if (textEnd > 0) {\r\n            text = html.substring(0, textEnd);\r\n        }\r\n        if (text) {\r\n            charts(text);\r\n            advance(text.length);\r\n        }\r\n    }\r\n\r\n    // 将字符串进行截取操作， 然后替换html\r\n    function advance(n) {\r\n        html = html.substring(n);\r\n    }\r\n\r\n    // 匹配开始标签\r\n    function parseStartTag() {\r\n        const start = html.match(startTagOpen);\r\n        if (start) {\r\n            const match = {\r\n                tagName: start[1],\r\n                attrs: [],\r\n            };\r\n            // 获取标签后删除\r\n            advance(start[0].length);\r\n            let end, attr;\r\n\r\n            // 不是开始标签的结束，并且是属性就一直匹配\r\n            while (\r\n                !(end = html.match(startTagClose)) &&\r\n                (attr = html.match(attribute))\r\n            ) {\r\n                // 使用双引号，属性值是第3项，使用单引号，是第四项， 不用引号是是第五项\r\n                match.attrs.push({\r\n                    name: attr[1],\r\n                    value: attr[3] || attr[4] || attr[5],\r\n                });\r\n                // 获取属性后删除\r\n                advance(attr[0].length);\r\n            }\r\n            if (end) {\r\n                advance(end[0].length);\r\n                return match;\r\n            }\r\n        }\r\n    }\r\n    // 创建ast语法树\r\n    function createASTElement(tagName, attrs) {\r\n        return {\r\n            // 标签名\r\n            tag: tagName,\r\n            // 标签type是1\r\n            type: ELEMENT_TYPE,\r\n            // 子节点\r\n            children: [],\r\n            // 属性\r\n            attrs,\r\n            // 父节点\r\n            parent: null,\r\n        };\r\n    }\r\n\r\n    // 处理开始标签\r\n    function handleStartTag(match) {\r\n        const { tagName, attrs } = match;\r\n        const element = createASTElement(tagName, attrs);\r\n\r\n        // 第一次调用的是树根\r\n        if (!root) {\r\n            root = element;\r\n        }\r\n        // 当前解析的标签保存为父标签\r\n        currentParent = element;\r\n\r\n        // 将开始标签元素放入栈中\r\n        stack.push(element);\r\n    }\r\n\r\n    // 处理结束标签，在结尾标签闭合时，可以创建父子关系\r\n    function handleEndTag(tagName) {\r\n        // 取出栈中最后一个标签\r\n        const element = stack.pop();\r\n        // 当前父元素也要变成前一个元素\r\n        currentParent = stack[stack.length - 1];\r\n\r\n        // 元素闭合时，可以知道这个标签的父亲是谁\r\n        // 同时也知道这个父亲的子元素\r\n        // 双向检测\r\n        if (currentParent) {\r\n            element.parent = currentParent;\r\n            currentParent.children.push(element);\r\n        }\r\n    }\r\n\r\n    function charts(text) {\r\n        text = text.trim();\r\n        if (text) {\r\n            currentParent.children.push({\r\n                // 文本类型是3\r\n                type: TEXT_TYPE,\r\n                text,\r\n            });\r\n        }\r\n    }\r\n\r\n    return root;\r\n}\r\n","import { generate } from \"./codeGen\";\r\nimport { parseHTML } from \"./parse/html-parse\";\r\n\r\nexport function compilerToFunctions(template) {\r\n    const ast = parseHTML(template);\r\n    const code = generate(ast);\r\n\r\n    let render = new Function(code.render);\r\n    return render;\r\n}\r\n","let uid = 0;\r\n\r\nclass Dep {\r\n    constructor() {\r\n        this.id = uid++;\r\n        // 存放当前属性对应的watcher\r\n        this.subs = [];\r\n    }\r\n    addSub(sub) {\r\n        this.subs.push(sub);\r\n    }\r\n    depend() {\r\n        // 希望让当前的target也能记住dep\r\n        Dep.target.addDep(this);\r\n    }\r\n    notify() {\r\n        this.subs.forEach((watcher) => watcher.update());\r\n    }\r\n}\r\n\r\n// 添加一个全局变量,，保存当前的watcher\r\nDep.target = null;\r\n\r\nconst targetStack = [];\r\n\r\nexport function pushTarget(target = null) {\r\n    targetStack.push(target);\r\n    Dep.target = target;\r\n}\r\n\r\nexport function popTarget() {\r\n    targetStack.pop();\r\n    Dep.target = targetStack[targetStack.length - 1];\r\n}\r\nexport default Dep;\r\n","import { nextTick } from \"../util/next-tick\";\r\n\r\nlet has = {};\r\nlet queue = [];\r\nlet pending = false;\r\n\r\nfunction flushSchedulerQueue() {\r\n    let flushQueue = queue.slice(0);\r\n    queue = [];\r\n    has = {};\r\n    pending = false;\r\n    flushQueue.forEach((q) => q.run());\r\n}\r\n\r\nexport function queueWatcher(watcher) {\r\n    const id = watcher.id;\r\n    if (has[id] != null) {\r\n        return;\r\n    }\r\n    has[id] = true;\r\n    queue.push(watcher);\r\n\r\n    if (!pending) {\r\n        nextTick(flushSchedulerQueue);\r\n        pending = true;\r\n    }\r\n}\r\n","import { isArray } from \"../shared/util\";\r\n\r\nconst seenObjects = new Set();\r\n\r\nexport function traverse(val) {\r\n    _traverse(val, seenObjects);\r\n    seenObjects.clear();\r\n    return val;\r\n}\r\nfunction _traverse(val, seen) {\r\n    let i, keys;\r\n    const isA = isArray(val);\r\n\r\n    if (val.__ob__) {\r\n        const depId = val.__ob__.dep.id;\r\n        if (seen.has(depId)) {\r\n            return;\r\n        }\r\n        seen.add(depId);\r\n    }\r\n    if (isA) {\r\n        i = val.length;\r\n        while (i--) _traverse(val[i], seen);\r\n    } else {\r\n        keys = Object.keys(val);\r\n        i = keys.length;\r\n        while (i--) _traverse(val[keys[i]], seen);\r\n    }\r\n}\r\n","import { isFunction, isObject, parsePath } from \"../shared/util\";\r\nimport Dep, { popTarget, pushTarget } from \"./dep\";\r\nimport { queueWatcher } from \"./scheduler\";\r\nimport { traverse } from \"./traverse\";\r\n\r\n// 每个watcher都添加一个唯一值\r\nlet uid = 0;\r\n\r\nclass Watcher {\r\n    constructor(vm, expOrFn, cb, options, isRenderWatcher) {\r\n        if ((this.vm = vm) && isRenderWatcher) {\r\n            vm._watcher = this;\r\n        }\r\n\r\n        this.id = ++uid;\r\n        this.vm = vm;\r\n        this.cb = cb;\r\n        if (options) {\r\n            this.deep = !!options.deep;\r\n            this.user = !!options.user;\r\n        } else {\r\n            this.deep = this.user = false;\r\n        }\r\n\r\n        if (isFunction(expOrFn)) {\r\n            this.getter = expOrFn;\r\n        } else {\r\n            this.getter = parsePath(expOrFn);\r\n        }\r\n        this.deps = [];\r\n        this.depIds = new Set();\r\n\r\n        this.value = this.get();\r\n    }\r\n\r\n    get() {\r\n        const vm = this.vm;\r\n        // 将当前的watcher放到全局变量上\r\n        // this是当前watcher实例\r\n        pushTarget(this);\r\n\r\n        // 首先调用一次，让页面渲染\r\n        const value = this.getter.call(vm, vm);\r\n        if (this.deep) {\r\n            traverse(value);\r\n        }\r\n\r\n        // 视图渲染完成后，清空这个值\r\n        popTarget();\r\n        return value;\r\n    }\r\n    // 让watcher记住dep\r\n    addDep(dep) {\r\n        const id = dep.id;\r\n        // 去重\r\n        if (!this.depIds.has(id)) {\r\n            this.deps.push(dep);\r\n            this.depIds.add(id);\r\n            dep.addSub(this);\r\n        }\r\n    }\r\n    update() {\r\n        queueWatcher(this);\r\n    }\r\n    run() {\r\n        const vm = this.vm;\r\n        // 新值\r\n        const value = this.get();\r\n        if (value !== this.value || isObject(value) || this.deep) {\r\n            // set new value\r\n            // 原来的值\r\n            const oldValue = this.value;\r\n            this.value = value;\r\n            // 是用户的watcher\r\n            if (this.user) {\r\n                this.cb.call(vm, value, oldValue);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default Watcher;\r\n","export function patch(oldVNode, vnode) {\r\n    // patch既有初始化的功能，也有更新的功能\r\n    const isRealElement = oldVNode.nodeType;\r\n    if (isRealElement) {\r\n        const el = oldVNode;\r\n        // 获取父元素\r\n        const parent = el.parentNode;\r\n\r\n        // 根据虚拟节点创建真实dom\r\n        let newEle = createElm(vnode);\r\n     \r\n        // 将新的dom插入到原来的节点后面,然后再把原来的删除\r\n        parent.insertBefore(newEle, el.nextSibling);\r\n        parent.removeChild(el);\r\n\r\n        return newEle;\r\n    } else {\r\n        // 执行diff算法更新\r\n    }\r\n}\r\n\r\nfunction createElm(vnode) {\r\n    let { tag, data, children, text } = vnode;\r\n    if (typeof tag === \"string\") {\r\n        // 标签\r\n        vnode.el = document.createElement(tag);\r\n\r\n        patchProps(vnode.el, data);\r\n\r\n        children.forEach((element) => {\r\n            // 子元素\r\n            vnode.el.appendChild(createElm(element));\r\n        });\r\n    } else {\r\n        // 文本\r\n        vnode.el = document.createTextNode(text);\r\n    }\r\n\r\n    return vnode.el;\r\n}\r\nfunction patchProps(el, props) {\r\n    for (const key in props) {\r\n        if (key === \"style\") {\r\n             for (let styleName in props.style) {\r\n                el.style[styleName] = props.style[styleName];\r\n            }\r\n        } else {\r\n            el.setAttribute(key, props[key]);\r\n        }\r\n    }\r\n}\r\n","import Watcher from \"../observer/watcher\";\r\nimport { patch } from \"../vdom/patch\";\r\n\r\nexport function lifecycleMixin(Vue) {\r\n    // 将vnode转换成真实dom\r\n    Vue.prototype._update = function (vnode) {\r\n        const vm = this;\r\n        const el = vm.$el;\r\n\r\n        // 将patch生成的el重新赋值给$el\r\n        vm.$el = patch(el, vnode);\r\n    };\r\n}\r\n\r\nexport function mountComponent(vm, el) {\r\n    // 挂载之前调用beforeMount\r\n    callHook(vm, \"beforeMount\");\r\n\r\n    vm.$el = el;\r\n    const updateComponent = () => {\r\n        vm._update(vm._render());\r\n    };\r\n    new Watcher(vm, updateComponent, () => {}, {}, true);\r\n\r\n    // 挂载后调用mounted\r\n    callHook(vm, \"mounted\");\r\n}\r\n\r\nexport function callHook(vm, hook) {\r\n    const handlers = vm.$options[hook];\r\n    if (handlers) {\r\n        for (let i = 0, j = handlers.length; i < j; i++) {\r\n            handlers[i].call(vm);\r\n        }\r\n    }\r\n}\r\n","// 数组原来原型上的方法\r\nlet oldArrayProtoMethods = Array.prototype;\r\n\r\n// 继承一下方法\r\nexport let arrayMethods = Object.create(oldArrayProtoMethods);\r\n\r\nlet methods = [\"push\", \"pop\", \"shift\", \"unshift\", \"reverse\", \"sort\", \"splice\"];\r\n\r\nmethods.forEach((method) => {\r\n    arrayMethods[method] = function (...args) {\r\n        const result = oldArrayProtoMethods[method].call(this, ...args);\r\n\r\n        // 对新增的数据需要再次劫持\r\n        let insert = null;\r\n        let ob = this.__ob__;\r\n        // 数组中新添加的项有可能也是对象\r\n        switch (method) {\r\n            // 这两个方法都是追加，追加的内容可能是数组\r\n            case \"push\":\r\n            case \"unshift\":\r\n                insert = args;\r\n                break;\r\n\r\n            case \"splice\":\r\n                // splice添加时，第二个参数是新增的内容\r\n                insert = args.slice(2);\r\n            default:\r\n                break;\r\n        }\r\n        // 给数组新增的值也要劫持\r\n        if (insert) ob.observeArray(insert);\r\n        ob.dep.notify();\r\n        return result;\r\n    };\r\n});\r\n","import { isArray, isObject } from \"../shared/util\";\r\nimport { arrayMethods } from \"./array\";\r\nimport Dep from \"./dep\";\r\n\r\nclass Observer {\r\n    constructor(data) {\r\n        this.dep = new Dep();\r\n\r\n        Object.defineProperty(data, \"__ob__\", {\r\n            enumerable: false,\r\n            configurable: false,\r\n            value: this,\r\n        });\r\n\r\n        // 使用define.prototype重新定义属性\r\n        if (Array.isArray(data)) {\r\n            data.__proto__ = arrayMethods;\r\n            this.observeArray(data);\r\n        } else {\r\n            this.observeObject(data);\r\n        }\r\n    }\r\n    observeArray(data) {\r\n        data.forEach((item) => observer(item));\r\n    }\r\n\r\n    observeObject(data) {\r\n        let keys = Object.keys(data);\r\n        keys.forEach((key) => {\r\n            defineReactive(data, key, data[key]);\r\n        });\r\n    }\r\n}\r\nexport function defineReactive(data, key, value) {\r\n    let childOb = observer(value);\r\n\r\n    // 给每个属性都添加一个dep\r\n    let dep = new Dep();\r\n\r\n    // 这是一个闭包的形式，get和set都可以获取value，value不销毁\r\n    Object.defineProperty(data, key, {\r\n        get() {\r\n            // 让dep记住当前的watcher\r\n            if (Dep.target) {\r\n                // 属性收集器，记住当前的watcher\r\n                dep.depend();\r\n\r\n                if (childOb) {\r\n                    childOb.dep.depend();\r\n                    if (isArray(value)) {\r\n                        dependArray(value);\r\n                    }\r\n                }\r\n            }\r\n\r\n            return value;\r\n        },\r\n        set(newValue) {\r\n            if (newValue === value) return;\r\n\r\n            // 新设置的值可能也是对象,所以需要继续劫持\r\n            observer(newValue);\r\n            value = newValue;\r\n\r\n            dep.notify();\r\n        },\r\n    });\r\n}\r\n\r\nexport function observer(data) {\r\n    if (!isObject(data)) {\r\n        return;\r\n    }\r\n    if (data.__ob__) {\r\n        return data;\r\n    }\r\n    return new Observer(data);\r\n}\r\n\r\nfunction dependArray(value) {\r\n    for (let e, i = 0, l = value.length; i < l; i++) {\r\n        e = value[i];\r\n        if (e && e.__ob__) {\r\n            e.__ob__.dep.depend();\r\n        }\r\n        if (isArray(e)) {\r\n            dependArray(e);\r\n        }\r\n    }\r\n}","import { observer } from \"../observer/index\";\r\nimport Watcher from \"../observer/watcher\";\r\nimport { isArray, isFunction, isPlainObject } from \"../shared/util\";\r\n\r\nexport function initState(vm) {\r\n    const opts = vm.$options;\r\n    if (opts.data) {\r\n        initData(vm);\r\n    }\r\n    if (opts.watch) {\r\n        initWatch(vm, opts.watch);\r\n    }\r\n}\r\n// 设置一个数据代理,取值和设置值的时候直接操作vm._data\r\nfunction proxy(vm, target, key) {\r\n    Object.defineProperty(vm, key, {\r\n        get() {\r\n            return vm[target][key];\r\n        },\r\n        set(newValue) {\r\n            vm[target][key] = newValue;\r\n        },    \r\n    });\r\n}\r\n\r\nfunction initData(vm) {\r\n    let data = vm.$options.data;\r\n\r\n    vm._data = data = isFunction(data) ? data.call(vm) : data || {};\r\n    if (!isPlainObject(data)) {\r\n        data = {};\r\n        console.error(\"[Vue warn] data functions should return an object\");\r\n    }\r\n\r\n    observer(data);\r\n\r\n    for (const key in data) {\r\n        proxy(vm, \"_data\", key);\r\n    }\r\n}\r\n\r\nfunction initWatch(vm, watch) {\r\n    // 拿到watch后，循环watch\r\n    for (const key in watch) {\r\n        // 拿到watcher对应的方法 可能是string | Function | Object | Array\r\n        const handler = watch[key];\r\n        if (isArray(handler)) {\r\n            // 如果是数组，循环数组\r\n            for (let i = 0; i < handler.length; i++) {\r\n                createWatcher(vm, key, handler[i]);\r\n            }\r\n        } else {\r\n            createWatcher(vm, key, handler);\r\n        }\r\n    }\r\n}\r\n\r\nfunction createWatcher(vm, expOrFn, handler, options) {\r\n    if (isPlainObject(handler)) {\r\n        options = handler;\r\n        handler = handler.handler;\r\n    }\r\n    if (typeof handler === \"string\") {\r\n        handler = vm[handler];\r\n    }\r\n    // 最终调用的是vm.$watch\r\n    return vm.$watch(expOrFn, handler, options);\r\n}\r\n\r\nexport function stateMixin(Vue) {\r\n    // watch的核心是new Watcher\r\n    Vue.prototype.$watch = function (expOrFn, cb, options) {\r\n        const vm = this;\r\n        options = options || {}\r\n        options.user = true;\r\n        new Watcher(vm, expOrFn, cb, options);\r\n        // 如果是immediate就立即执行操作函数\r\n        if (options.immediate) {\r\n            cb.call(vm);\r\n        }\r\n    };\r\n}","import { compilerToFunctions } from \"../compiler\";\r\nimport { mergeOptions } from \"../util/options\";\r\nimport { callHook, mountComponent } from \"./lifecycle\";\r\nimport { initState } from \"./state\";\r\n\r\nexport function initMixin(Vue) {\r\n    Vue.prototype._init = function (options) {\r\n        const vm = this;\r\n        vm.$options = mergeOptions(vm.constructor.options, options);\r\n\r\n        callHook(vm, \"beforeCreate\");\r\n        \r\n        initState(vm);\r\n        \r\n        callHook(vm, \"created\");\r\n\r\n        if (vm.$options.el) {\r\n            vm.$mount(vm.$options.el);\r\n        }\r\n    };\r\n    Vue.prototype.$mount = function (el) {\r\n        const vm = this;\r\n        const opts = vm.$options;\r\n        el = document.querySelector(el);\r\n\r\n        // 没有rencer，将template转换成render\r\n        if (!opts.render) {\r\n            let template = opts.template;\r\n            if (!template && el) {\r\n                template = el.outerHTML;\r\n            }\r\n            const render = compilerToFunctions(template);\r\n            opts.render = render;\r\n        }\r\n\r\n        // 挂载组件，将实例挂载到el上\r\n        mountComponent(vm, el);\r\n    };\r\n}","export function renderMixin(Vue) {\r\n    // 创建元素\r\n    Vue.prototype._c = function () {\r\n        return createElementVNode(...arguments);\r\n    };\r\n    // 创建文本元素\r\n    Vue.prototype._v = function (text) {\r\n        return creteTextVNode(text);\r\n    };\r\n    // stringify\r\n    Vue.prototype._s = function (val) {\r\n        return val === null\r\n            ? \"\"\r\n            : typeof val === \"object\"\r\n            ? JSON.stringify(val)\r\n            : val;\r\n    };\r\n\r\n    Vue.prototype.$nextTick = function (fn) {\r\n        return nextTick(fn, this);\r\n    };\r\n\r\n    Vue.prototype._render = function () {\r\n        const vm = this;\r\n        const render = vm.$options.render;\r\n        // 调用render，返回的结果是vnode\r\n        let vnode = render.call(vm);\r\n        return vnode;\r\n    };\r\n}\r\n\r\nfunction createElementVNode(tag, data, ...children) {\r\n    if (data == null) data = {};\r\n    return vnode(tag, data, data.key, children);\r\n}\r\n\r\nfunction creteTextVNode(text) {\r\n    return vnode(undefined, undefined, undefined, undefined, text);\r\n}\r\n// 创建虚拟dom\r\nfunction vnode(tag, data, key, children, text) {\r\n    return {\r\n        tag,\r\n        data,\r\n        key,\r\n        children,\r\n        text,\r\n    };\r\n}\r\n","import { initGlobalAPI } from \"./global-api\";\r\nimport { initMixin } from \"./instance/init\";\r\nimport { lifecycleMixin } from \"./instance/lifecycle\";\r\nimport { stateMixin } from \"./instance/state\";\r\nimport { renderMixin } from \"./vdom\";\r\n\r\nfunction Vue(options) {\r\n    this._init(options);\r\n}\r\n\r\ninitMixin(Vue);\r\n\r\nstateMixin(Vue)\r\n\r\nlifecycleMixin(Vue);\r\n\r\nrenderMixin(Vue);\r\n\r\ninitGlobalAPI(Vue)\r\n\r\nexport default Vue;\r\n\r\n\r\n\r\n\r\n"],"names":["isFunction","value","_toString","Object","prototype","toString","isPlainObject","obj","call","isObject","hasOwn","key","hasOwnProperty","isArray","Array","isNative","Ctor","test","parsePath","path","segments","split","i","length","callbacks","pending","timerFunc","Promise","p","resolve","then","flushCallbacks","MutationObserver","counter","observer","textNode","document","createTextNode","String","observe","characterData","data","setImmediate","setTimeout","copies","slice","nextTick","cb","ctx","push","LIFECYCLE_HOOKS","strats","create","forEach","hook","mergeLifecycleHook","defaultStrat","parentVal","childVal","undefined","res","concat","dedupeHooks","hooks","indexOf","mergeOptions","parent","child","options","mergeField","strat","initMixin","Vue","mixin","initGlobalAPI","defaultTagRE","parseText","text","JSON","stringify","tokens","lastIndex","match","index","exec","trim","join","genProps","ast","attrs","str","at","name","item","genChildren","children","map","genNode","node","type","genElement","props","code","tag","generate","render","attribute","ncname","qnameCapture","startTagOpen","RegExp","startTagClose","endTag","parseHTML","html","root","currentParent","stack","ELEMENT_TYPE","TEXT_TYPE","textEnd","startTagMatch","parseStartTag","handleStartTag","endTagMatch","handleEndTag","advance","substring","charts","n","start","tagName","end","attr","createASTElement","element","pop","compilerToFunctions","template","Function","uid","Dep","id","subs","sub","target","addDep","watcher","update","targetStack","pushTarget","popTarget","has","queue","flushSchedulerQueue","flushQueue","q","run","queueWatcher","seenObjects","Set","traverse","val","_traverse","clear","seen","keys","isA","__ob__","depId","dep","add","Watcher","vm","expOrFn","isRenderWatcher","_watcher","deep","user","getter","deps","depIds","get","addSub","oldValue","patch","oldVNode","vnode","isRealElement","nodeType","el","parentNode","newEle","createElm","insertBefore","nextSibling","removeChild","createElement","patchProps","appendChild","styleName","style","setAttribute","lifecycleMixin","_update","$el","mountComponent","callHook","updateComponent","_render","handlers","$options","j","oldArrayProtoMethods","arrayMethods","methods","method","args","result","insert","ob","observeArray","notify","Observer","defineProperty","enumerable","configurable","__proto__","observeObject","defineReactive","childOb","depend","dependArray","set","newValue","e","l","initState","opts","initData","watch","initWatch","proxy","_data","console","error","handler","createWatcher","$watch","stateMixin","immediate","_init","constructor","$mount","querySelector","outerHTML","renderMixin","_c","createElementVNode","arguments","_v","creteTextVNode","_s","$nextTick","fn"],"mappings":"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"}